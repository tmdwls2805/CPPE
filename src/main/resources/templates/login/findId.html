<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<!-- Mobile Specific Meta -->
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<!-- Favicon-->
<link rel="shortcut icon" href="img/logo1.png">
<!-- Author Meta -->
<meta name="author" content="colorlib">
<!-- Meta Description -->
<meta name="description" content="">
<!-- Meta Keyword -->
<meta name="keywords" content="">
<!-- meta character set -->
<meta charset="UTF-8">
<!-- Site Title -->
<title>내일의 레시피</title>

<!-- CSS ============================================= -->
<link rel="stylesheet" href="../static/css/linearicons.css"
	th:href="@{/css/linearicons.css}">
<link rel="stylesheet" href="../static/css/font-awesome.min.css?after"
	th:href="@{/css/font-awesome.min.css}">
<link rel="stylesheet" href="../static/css/bootstrap.css"
	th:href="@{/css/bootstrap.css?after}">
<link rel="stylesheet" href="../static/css/magnific-popup.css"
	th:href="@{/css/magnific-popup.css}">
<link rel="stylesheet" href="../static/css/jquery-ui.css"
	th:href="@{/css/jquery-ui.css}">
<link rel="stylesheet" href="../static/css/nice-select.css"
	th:href="@{/css/nice-select.css}">
<link rel="stylesheet" href="../static/css/animate.min.css"
	th:href="@{/css/animate.min.css}">
<link rel="stylesheet" href="../static/css/owl.carousel.css"
	th:href="@{/css/owl.carousel.css}">
<link rel="stylesheet" href="../static/css/main.css"
	th:href="@{/css/main.css}">
<link rel="stylesheet" href="../static/css/mk/contact.css"
	th:href="@{/css/mk/contact.css}">
<script src="../static/js/vendor/jquery-2.2.4.min.js"
	th:src="@{/js/vendor/jquery-2.2.4.min.js}"></script>
<script src="../static/js/popper.min.js" th:src="@{/js/popper.min.js}"></script>
<script src="../static/js/vendor/bootstrap.min.js"
	th:src="@{/js/vendor/bootstrap.min.js}"></script>

<script src="../static/js/jquery-ui.js" th:src="@{/js/jquery-ui.js}"></script>
<script src="../static/js/easing.min.js" th:src="@{/js/easing.min.js}"></script>
<script src="../static/js/hoverIntent.js" th:src="@{/js/hoverIntent.js}"></script>
<script src="../static/js/superfish.min.js"
	th:src="@{/js/superfish.min.js}"></script>
<script src="../static/js/jquery.ajaxchimp.min.js"
	th:src="@{/js/jquery.ajaxchimp.min.js}"></script>
<script src="../static/js/jquery.magnific-popup.min.js"
	th:src="@{/js/jquery.magnific-popup.min.js}"></script>
<script src="../static/js/jquery.nice-select.min.js"
	th:src="@{/js/jquery.nice-select.min.js}"></script>
<script src="../static/js/owl.carousel.min.js"
	th:src="@{/js/owl.carousel.min.js}"></script>
<script src="../static/js/isotope.pkgd.min.js"
	th:src="@{/js/isotope.pkgd.min.js}"></script>
<script src="../static/js/mail-script.js" th:src="@{/js/mail-script.js}"></script>
<script src="../static/js/main.js" th:src="@{/js/main.js}"></script>
<script src="http://maps.googleapis.com/maps/api/js"></script>
<link rel="stylesheet" href="../static/css/mk/findId.css?after" th:href="@{/css/mk/findId.css?after}">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
	<div th:replace="~{header :: header}"></div>
	<!-- #header -->
	<section class="relative about-banner">
		<div class="overlay overlay-bg"></div>
		<div class="container">
			<div class="row d-flex align-items-center justify-content-center">
				<div class="about-content col-lg-12">
					<h1 class="text-white">아이디 찾기</h1>
				</div>
			</div>
		</div>
	</section>
	<!-- End banner Area -->

	<!-- Start contact-page Area -->
	<section class="contact-page-area section-gap">
		<div class="container">
			<center>
				<div class="form">
					<table name="com-table" id="com-table" class="com-table">
						<tr>
							<td style="text-align:center;">		
									<h4>			
									<strong id="findName" class="com-strong"></strong>
									님의 아이디는
									<strong id="findId" class="com-strong2"></strong>
									 입니다.
									 </h4>	
							</td>
						</tr>
						<tr>
							<td class="com-td2">
								<input type="submit" value="로그인하기" onclick="javascript:location.href='loginForm'"/>
							</td>
						</tr>
						<tr>
							<td class="com-td3">
								<span class="com-span">비밀번호가 기억나지 않으십니까?</span>&nbsp;&nbsp;
								<a class="com-a" th:href="@{findPassword}">비밀번호 찾기</a>
							</td>
						</tr>
					</table>

					<form name="form" id="form" class="login-form" method="POST" action="">
						<table border="0">
<!-- 							<tr class="tr2">
								<td><span class="span-head">아이디 찾기</span></td>
							</tr> -->
							<tr class="tr1">
								<td class="td2">
									<input type="text" placeholder="이름" class="input1" id="name" name="name" required/>
								</td>
							</tr>
							<tr>
								<td>
									<div class="error-next-box" id="chkName"></div>
								</td>
							</tr>
							<tr class="tr1">
								<td class="td2">
									<input type="text" placeholder="이메일" class="input2" id="email" name="email" required//>
								</td>
							</tr>
							<tr>
								<td>
									<div class="error-next-box" id="chkEmail"></div>
								</td>
							</tr>
						</table><br>
						<input type="submit" class="button-font" value="아이디 찾기"/>
					</form>
			</div>
			</center>
		</div>
	</section>

	<!-- End contact-page Area -->
	<!-- End home-about Area -->
	<!-- start footer Area -->
	<div th:replace="~{footer :: footer}"></div>
	<!-- End footer Area -->
	<script>
	var empJ = /^[]{0}$/
	var emailJ = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;
	var nameJ = /^[가-힣]{2,6}$/; 
	
 	$('#name').blur(function(){
		if(empJ.test($('#name').val())){
			$('#chkName').text('필수 정보입니다.');
			$('#chkName').css('color', 'red');
			
		}else if (!nameJ.test($('#name').val())){
			$('#chkName').text('2~6자 한글을 사용하세요.');
			$('#chkName').css('color', 'red');
			
		}else if (nameJ.test($('#name').val())){
			$('#chkName').text('');
		}
	});

	$('#email').blur(function(){
		if(empJ.test($('#email').val())){
			$('#chkEmail').text('필수 정보입니다.');
			$('#chkEmail').css('color', 'red');
			
		}else if (!emailJ.test($('#email').val())){
			$('#chkEmail').text('이메일 형식을 확인해주세요.');
			$('#chkEmail').css('color', 'red');
			
		}else if (emailJ.test($('#email').val())){
			$('#chkEmail').text('');
		}
	});
	 
		$("form").submit(function(e){
			var name = document.form.name.value;
			var email = document.form.email.value;
			e.preventDefault();
			
			if (name!="" && email!=""){
				$.ajax({
					async: true,
				    type : 'POST',
				    data : JSON.stringify({"name": name, "email": email}),
				    url : "findId",
				    dataType : "json",
				    contentType: "application/json; charset=UTF-8",
				    success : function(data) {
				        if (data.id!="" && data.name!="") {
 				        	$("#form").hide();
				        	$("#com-table").show();
				        	$("#findName").text(data.name);
				        	$("#findId").text(data.id);
				        } else {
							alert("입력하신 정보에 해당하는 아이디가 없습니다.")
				        }
				    },
				    error : function(error) {
				        alert("error : " + error);
				    }
				});								
			}	   			
		});
	</script>
</body>
</html>